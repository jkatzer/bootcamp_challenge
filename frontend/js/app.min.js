var forumFrontEnd=angular.module("forumFrontEnd",["ngRoute","forumFrontEndControllers","forumFrontEndServices","forumFrontEndFilters"]);forumFrontEnd.config(["$resourceProvider",function(a){a.defaults.stripTrailingSlashes=!1}]).config(["$httpProvider",function(a){a.defaults.xsrfCookieName="csrftoken",a.defaults.xsrfHeaderName="X-CSRFToken"}]).config(["$routeProvider",function(a){a.caseInsensitiveMatch=!0,a.when("/home",{templateUrl:"static/partials/threadList.html",controller:"ThreadListCtrl"}).when("/:threadId",{templateUrl:"static/partials/threadDetail.html",controller:"ThreadDetailCtrl"}).otherwise({redirectTo:"/home"})}]);var forumFrontEndControllers=angular.module("forumFrontEndControllers",[]);forumFrontEndControllers.controller("ThreadListCtrl",["$scope","$http","Thread",function(a,b,c){a.errorMsg="",a.threads=c.query(),a.blankForm={},a.createThread=function(d){threadSuccess=function(b){a.threadForm=a.blankForm,a.threads=c.query()},threadFail=function(b){a.errorMsg="Sorry, something went wrong. \n"+b.statusText,console.log("oops!"),console.log(b)},b.post("/api/threads/",d).then(threadSuccess,threadFail)}}]),forumFrontEndControllers.controller("ThreadDetailCtrl",["$scope","$routeParams","$http","Thread",function(a,b,c,d){a.errorMsg="",a.comments=[],a.thread={},a.updateThread=function(c){a.thread=d.get({threadId:b.threadId},function(b){console.log("update!"),a.comments=b.comments})},a.updateThread(),a.createComment=function(b){b.thread=a.thread.url;var d=function(b){a.errorMsg="Sorry, something went wrong. \n"+b.statusText,console.log(a.errorMsg),console.log(b)};c.post("api/comments/",b).then(a.updateThread,d)},a.scorePlus=function(a){var b=function(b){a.errorMsg="Sorry, something went wrong. \n"+b.statusText,console.log("error:"),console.log(b)},d=angular.copy(a);d.score+=1,c.put(a.url,d).then(function(){a.score+=1},b)},a.scoreMinus=function(a){var b=function(b){a.errorMsg="Sorry, something went wrong. \n"+b.statusText,console.log("error:"),console.log(b)},d=angular.copy(a);d.score-=1,c.put(a.url,d).then(function(){a.score-=1},b)}}]);var forumFrontEndFilters=angular.module("forumFrontEndFilters",[]);forumFrontEndFilters.filter("orderObjectBy",function(){return function(a,b,c){var d=[];return angular.forEach(a,function(a){d.push(a)}),d.sort(function(a,c){return a[b]>c[b]?1:-1}),c&&d.reverse(),d}});var forumFrontEndServices=angular.module("forumFrontEndServices",["ngResource"]);forumFrontEndServices.factory("Thread",["$resource",function(a){var b="api/threads/:threadId/";return a(b,{},{query:{method:"GET"}})}]);
//# sourceMappingURL=app.min.js.map