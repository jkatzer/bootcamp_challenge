var forumFrontEnd=angular.module("forumFrontEnd",["ngRoute","forumFrontEndControllers","forumFrontEndServices"]);forumFrontEnd.config(["$resourceProvider",function(a){a.defaults.stripTrailingSlashes=!1}]).config(["$httpProvider",function(a){a.defaults.xsrfCookieName="csrftoken",a.defaults.xsrfHeaderName="X-CSRFToken"}]).config(["$routeProvider",function(a){a.caseInsensitiveMatch=!0,a.when("/home",{templateUrl:"static/partials/threadList.html",controller:"ThreadListCtrl"}).when("/:threadId",{templateUrl:"static/partials/threadDetail.html",controller:"ThreadDetailCtrl"}).otherwise({redirectTo:"/home"})}]);var forumFrontEndControllers=angular.module("forumFrontEndControllers",[]);forumFrontEndControllers.controller("ThreadListCtrl",["$scope","$http","Thread",function(a,b,c){a.errorMsg="",a.threads=c.query(),a.blankForm={},a.createThread=function(d){threadSuccess=function(b){a.threadForm=a.blankForm,a.threads=c.query()},threadFail=function(b){a.errorMsg="Sorry, something went wrong. \n"+b.statusText},b.post("/api/threads/",d).then(threadSuccess,threadFail)}}]),forumFrontEndControllers.controller("ThreadDetailCtrl",["$scope","$routeParams","$http","Thread",function(a,b,c,d){a.errorMsg="",a.comments=[],a.thread={},a.updateThread=function(c){a.thread=d.get({threadId:b.threadId},function(b){console.log("should be a new comment!"),console.log("response: "),console.log(c),a.comments=b.comments})},a.updateThread(),a.createComment=function(b){b.thread=a.thread.url,console.log("comment form: "),console.log(b);var d=function(b){a.errorMsg="Sorry, something went wrong. \n"+b.statusText,console.log(a.errorMsg),console.log(b)};c.post("api/comments/",b).then(a.updateThread,d)}}]);var forumFrontEndServices=angular.module("forumFrontEndServices",["ngResource"]);forumFrontEndServices.factory("Thread",["$resource",function(a){var b="api/threads/:threadId/?format=json";return a(b,{},{query:{method:"GET"}})}]);
//# sourceMappingURL=app.min.js.map